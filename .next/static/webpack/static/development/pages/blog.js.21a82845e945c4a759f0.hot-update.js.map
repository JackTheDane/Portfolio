{"version":3,"file":"static/webpack/static\\development\\pages\\blog.js.21a82845e945c4a759f0.hot-update.js","sources":["webpack:///./pages/blog/index.tsx"],"sourcesContent":["import Link from 'next/link';\r\nimport fs from \"fs\";\r\nimport matter from 'gray-matter';\r\nimport { GetStaticProps } from 'next';\r\nimport path from 'path';\r\n\r\ninterface IPost {\r\n  slug: string;\r\n  title: string;\r\n}\r\n\r\ninterface IHomeProps {\r\n  posts: IPost[]\r\n}\r\n\r\nconst Home = ({\r\n  posts\r\n}: IHomeProps) => {\r\n  return (\r\n    <div>\r\n      {\r\n        posts.map(({\r\n          slug,\r\n          title\r\n        }) => (\r\n            <div key={slug}>\r\n              <Link\r\n                href=\"/blog/[slug]\" as={`/blog/${slug}`}\r\n              //href=\"/blog/faq\"\r\n              >\r\n                <a>{title}</a>\r\n              </Link>\r\n            </div>\r\n          ))\r\n      }\r\n    </div>\r\n  )\r\n}\r\n\r\nexport const getStaticProps: GetStaticProps<IHomeProps> = async () => {\r\n  // Get the content of the md file by checking for it using the file name + the .md extension\r\n  const postFileNames: string[] = fs.readdirSync('posts');\r\n\r\n  const posts: IPost[] = await Promise.all(postFileNames.map(\r\n    (fn): Promise<IPost> => new Promise<IPost>((res, rej) => {\r\n\r\n      fs.readFile(path.join('posts', fn), (err, data) => {\r\n\r\n        if (err) {\r\n          rej(err);\r\n          return;\r\n        }\r\n\r\n        const { data: { title } } = matter(data.toString());\r\n\r\n        res({\r\n          title,\r\n          slug: fn.replace('.md', '')\r\n        });\r\n      });\r\n\r\n    })\r\n  ))\r\n\r\n  return {\r\n    // Anything passed to the \"props\" object will be passed to the component as props.\r\n    props: {\r\n      posts\r\n    }\r\n  }\r\n}\r\n\r\n\r\nexport default Home;\r\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AAcA;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AATA;AAgBA;AACA;;AAmCA;;;;A","sourceRoot":""}