{"ast":null,"code":"var _this = this,\n    _jsxFileName = \"F:\\\\Projekter\\\\PortfolioSSG\\\\pages\\\\index.tsx\";\n\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport Link from 'next/link';\n\nvar Home = function Home(_ref) {\n  var posts = _ref.posts;\n  return __jsx(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 20,\n      columnNumber: 5\n    }\n  }, posts.map(function (_ref2) {\n    var slug = _ref2.slug,\n        title = _ref2.title;\n    return __jsx(\"div\", {\n      key: slug,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 26,\n        columnNumber: 13\n      }\n    }, __jsx(Link, {\n      href: \"/blog/[slug]\",\n      as: \"/blog/\".concat(slug) //href=\"/blog/faq\"\n      ,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 15\n      }\n    }, __jsx(\"a\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 17\n      }\n    }, title)));\n  }));\n};\n\nexport var __N_SSG = true;\nexport default Home;","map":{"version":3,"sources":["F:/Projekter/PortfolioSSG/pages/index.tsx"],"names":["Link","Home","posts","map","slug","title"],"mappings":";;;;;AAAA,OAAOA,IAAP,MAAiB,WAAjB;;AAeA,IAAMC,IAAI,GAAG,SAAPA,IAAO,OAEK;AAAA,MADhBC,KACgB,QADhBA,KACgB;AAChB,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAEIA,KAAK,CAACC,GAAN,CAAU;AAAA,QACRC,IADQ,SACRA,IADQ;AAAA,QAERC,KAFQ,SAERA,KAFQ;AAAA,WAIN;AAAK,MAAA,GAAG,EAAED,IAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,MAAC,IAAD;AACE,MAAA,IAAI,EAAC,cADP;AACsB,MAAA,EAAE,kBAAWA,IAAX,CADxB,CAEA;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAIC,KAAJ,CAJF,CADF,CAJM;AAAA,GAAV,CAFJ,CADF;AAmBD,CAtBD;;;AA4DA,eAAeJ,IAAf","sourcesContent":["import Link from 'next/link';\r\nimport fs from \"fs\";\r\nimport matter from 'gray-matter';\r\nimport { GetStaticProps } from 'next';\r\nimport path from 'path';\r\n\r\ninterface IPost {\r\n  slug: string;\r\n  title: string;\r\n}\r\n\r\ninterface IHomeProps {\r\n  posts: IPost[]\r\n}\r\n\r\nconst Home = ({\r\n  posts\r\n}: IHomeProps) => {\r\n  return (\r\n    <div>\r\n      {\r\n        posts.map(({\r\n          slug,\r\n          title\r\n        }) => (\r\n            <div key={slug}>\r\n              <Link\r\n                href=\"/blog/[slug]\" as={`/blog/${slug}`}\r\n              //href=\"/blog/faq\"\r\n              >\r\n                <a>{title}</a>\r\n              </Link>\r\n            </div>\r\n          ))\r\n      }\r\n    </div>\r\n  )\r\n}\r\n\r\nexport const getStaticProps: GetStaticProps<IHomeProps> = async () => {\r\n  // Get the content of the md file by checking for it using the file name + the .md extension\r\n  const postFileNames: string[] = fs.readdirSync('posts');\r\n\r\n  const posts: IPost[] = await Promise.all(postFileNames.map(\r\n    (fn): Promise<IPost> => new Promise<IPost>((res, rej) => {\r\n\r\n      fs.readFile(path.join('posts', fn), (err, data) => {\r\n\r\n        if (err) {\r\n          rej(err);\r\n          return;\r\n        }\r\n\r\n        console.log({ fn });\r\n\r\n        const { data: { title } } = matter(data.toString());\r\n\r\n        res({\r\n          title,\r\n          slug: fn.replace('.md', '')\r\n        });\r\n      });\r\n\r\n    })\r\n  ))\r\n\r\n  return {\r\n    // Anything passed to the \"props\" object will be passed to the component as props.\r\n    props: {\r\n      posts\r\n    }\r\n  }\r\n}\r\n\r\n\r\nexport default Home;\r\n"]},"metadata":{},"sourceType":"module"}